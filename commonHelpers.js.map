{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '43794074-5ff9b3f6f51ca0335da2b7303';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = true;\n\nexport async function imagesFetch(value) {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}?key=${KEY}&q=${value}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = new SimpleLightbox('.gallery-link');\n\nexport const createMarcup = (list, tag) => {\n  const marcup = list\n    .map(image => {\n      return ` <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n    <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n          <ul class=\"stats-block\">\n            <li>\n              <span>Likes</span>\n              <span>${image.likes}</span> \n            </li>\n            <li>\n              <span>Views</span>\n              <span>${image.views}</span>\n            </li>\n            <li>\n              <span>Coments</span>np\n              <span>${image.comments}</span>\n            </li>\n            <li>\n              <span>Download</span>\n              <span>${image.downloads}</span>\n            </li>\n          </ul>\n        </a>\n      </li>`;\n    })\n    .join('');\n  tag.insertAdjacentHTML('beforeend', marcup);\n  gallery.refresh();\n};\n","import { imagesFetch } from './js/pixabay-api';\nimport { createMarcup } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('#search-form');\nconst galleryList = document.querySelector('#gallery');\nconst loaderEl = document.querySelector('.loader');\nconst loadMore = document.querySelector('#loadMore');\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const valueSearch = event.target.elements.searchInput.value.trim();\n\n  if (!valueSearch) {\n    galleryList.innerHTML = '';\n    iziToast.show({\n      message: 'Please enter text to find something!',\n      position: 'topRight',\n      timeout: 2000,\n      color: 'red',\n    });\n    return;\n  }\n\n  galleryList.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n  console.log(await imagesFetch('car'));\n\n  try {\n    const response = await imagesFetch(valueSearch);\n    if (!response.hits.length) {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        timeout: 2000,\n        color: 'red',\n      });\n    }\n    searchForm.searchInput.value = '';\n    galleryList.innerHTML = '';\n    createMarcup(response.hits, galleryList);\n    loaderEl.classList.add('is-hidden');\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message:\n        'An error occurred while fetching images. Please try again later.',\n      position: 'topRight',\n      messageColor: '#ffffff',\n      timeout: 3000,\n      backgroundColor: '#ef4040',\n    });\n    loaderEl.classList.add('is-hidden');\n  }\n});\n\nloadMore.addEventListener('click', async event => {});\n"],"names":["BASE_URL","KEY","IMAGE_TYPE","ORIENTATION","SAFESEARCH","imagesFetch","value","data","axios","error","gallery","SimpleLightbox","createMarcup","list","tag","marcup","image","searchForm","galleryList","loaderEl","loadMore","event","valueSearch","iziToast","response"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAM,qCACNC,EAAa,QACbC,EAAc,aACdC,EAAa,GAEZ,eAAeC,EAAYC,EAAO,CACvC,GAAI,CACF,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMC,EAAM,IAC3B,GAAGR,CAAQ,QAAQC,CAAG,MAAMK,CAAK,eAAeJ,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,EACpH,EACI,OAAOG,CACR,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CCdA,MAAMC,EAAU,IAAIC,EAAe,eAAe,EAErCC,EAAe,CAACC,EAAMC,IAAQ,CACzC,MAAMC,EAASF,EACZ,IAAIG,GACI;AAAA,wCAC2BA,EAAM,aAAa;AAAA,sCACrBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,sBAItDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,YAKhC,EACA,KAAK,EAAE,EACVF,EAAI,mBAAmB,YAAaC,CAAM,EAC1CL,EAAQ,QAAO,CACjB,EC7BMO,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAW,SAAS,cAAc,WAAW,EAEnDH,EAAW,iBAAiB,SAAU,MAAMI,GAAS,CACnDA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,YAAY,MAAM,OAE5D,GAAI,CAACC,EAAa,CAChBJ,EAAY,UAAY,GACxBK,EAAS,KAAK,CACZ,QAAS,uCACT,SAAU,WACV,QAAS,IACT,MAAO,KACb,CAAK,EACD,MACD,CAEDL,EAAY,UAAY,GACxBC,EAAS,UAAU,OAAO,WAAW,EACrC,QAAQ,IAAI,MAAMd,EAAY,KAAK,CAAC,EAEpC,GAAI,CACF,MAAMmB,EAAW,MAAMnB,EAAYiB,CAAW,EACzCE,EAAS,KAAK,QACjBD,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,QAAS,IACT,MAAO,KACf,CAAO,EAEHN,EAAW,YAAY,MAAQ,GAC/BC,EAAY,UAAY,GACxBN,EAAaY,EAAS,KAAMN,CAAW,EACvCC,EAAS,UAAU,IAAI,WAAW,CACnC,OAAQV,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBc,EAAS,MAAM,CACb,MAAO,QACP,QACE,mEACF,SAAU,WACV,aAAc,UACd,QAAS,IACT,gBAAiB,SACvB,CAAK,EACDJ,EAAS,UAAU,IAAI,WAAW,CACnC,CACH,CAAC,EAEDC,EAAS,iBAAiB,QAAS,MAAMC,GAAS,CAAA,CAAE"}